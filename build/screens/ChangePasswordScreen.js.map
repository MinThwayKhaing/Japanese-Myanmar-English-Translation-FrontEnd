{"version":3,"file":"ChangePasswordScreen.js","sourceRoot":"","sources":["../../src/screens/ChangePasswordScreen.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport {\r\n  View,\r\n  Text,\r\n  TextInput,\r\n  TouchableOpacity,\r\n  StyleSheet,\r\n  Alert,\r\n  ScrollView,\r\n  Platform,\r\n} from 'react-native';\r\nimport { SafeAreaView } from 'react-native-safe-area-context';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { UserService } from '../services/UserService';\r\nimport { Colors } from '../constants/colors';\r\nimport { Ionicons } from '@expo/vector-icons';\r\nimport { useNavigation } from '@react-navigation/native';\r\n\r\nexport default function ChangePasswordScreen() {\r\n  const navigation = useNavigation<any>();\r\n  const [currentPassword, setCurrentPassword] = useState('');\r\n  const [newPassword, setNewPassword] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleChangePassword = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const token = await AsyncStorage.getItem('token');\r\n      if (!token) {\r\n        Alert.alert('Error', 'You are not logged in');\r\n        return;\r\n      }\r\n\r\n      await UserService.changePassword(currentPassword, newPassword, token);\r\n      Alert.alert('Success', 'Password updated successfully');\r\n      navigation.goBack();\r\n    } catch (err: any) {\r\n      Alert.alert('Error', err.response?.data?.message || 'Failed to update password');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView style={styles.safeContainer}>\r\n      <ScrollView contentContainerStyle={styles.container} keyboardShouldPersistTaps=\"handled\">\r\n        {/* Back Button */}\r\n        <TouchableOpacity style={styles.backBtn} onPress={() => navigation.goBack()}>\r\n          <Ionicons name=\"arrow-back\" size={24} color={Colors.primary} />\r\n          <Text style={styles.backText}>Back</Text>\r\n        </TouchableOpacity>\r\n\r\n        <Text style={styles.heading}>Change Password</Text>\r\n\r\n        <View style={styles.row}>\r\n          <Text style={styles.label}>Current Password:</Text>\r\n          <TextInput\r\n            placeholder=\"Enter current password\"\r\n            placeholderTextColor={Colors.grayLight}\r\n            style={styles.input}\r\n            secureTextEntry\r\n            value={currentPassword}\r\n            onChangeText={setCurrentPassword}\r\n          />\r\n        </View>\r\n\r\n        <View style={styles.row}>\r\n          <Text style={styles.label}>New Password:</Text>\r\n          <TextInput\r\n            placeholder=\"Enter new password\"\r\n            placeholderTextColor={Colors.grayLight}\r\n            style={styles.input}\r\n            secureTextEntry\r\n            value={newPassword}\r\n            onChangeText={setNewPassword}\r\n          />\r\n        </View>\r\n\r\n        <TouchableOpacity\r\n          style={styles.button}\r\n          onPress={handleChangePassword}\r\n          disabled={loading || !currentPassword || !newPassword}\r\n        >\r\n          <Text style={styles.buttonText}>{loading ? 'Updating...' : 'Update Password'}</Text>\r\n        </TouchableOpacity>\r\n      </ScrollView>\r\n    </SafeAreaView>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  safeContainer: {\r\n    flex: 1,\r\n    backgroundColor: Colors.background,\r\n    paddingTop: Platform.OS === 'android' ? 0 : 0,\r\n  },\r\n  container: {\r\n    flexGrow: 1,\r\n    padding: 16,\r\n  },\r\n  backBtn: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  backText: { marginLeft: 6, fontSize: 16, color: Colors.primary },\r\n  heading: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: Colors.primary,\r\n    marginBottom: 24,\r\n  },\r\n  row: { marginBottom: 20 },\r\n  label: { fontSize: 16, fontWeight: 'bold', color: Colors.primary, marginBottom: 6 },\r\n  input: {\r\n    height: 50,\r\n    borderWidth: 1,\r\n    borderColor: Colors.grayBorder,\r\n    borderRadius: 10,\r\n    paddingHorizontal: 12,\r\n    backgroundColor: '#fff',\r\n    color: Colors.primary,\r\n  },\r\n  button: {\r\n    backgroundColor: Colors.primary,\r\n    paddingVertical: 14,\r\n    borderRadius: 10,\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n  },\r\n  buttonText: { color: '#fff', fontWeight: '600', fontSize: 16 },\r\n});\r\n"]}